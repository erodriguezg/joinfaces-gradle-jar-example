<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
  xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:f="http://xmlns.jcp.org/jsf/core"
  xmlns:p="http://primefaces.org/ui">
<h:head>
  <title>#{saveCarBean.dialogTitle}</title>
  <h:outputStylesheet library="webjars" name="primeflex/3.3.0/primeflex.min.css" />
  <h:outputStylesheet library="assets" name="css/dialogs.css" />
</h:head>

<h:body>
  <h:form id="carForm">

    <br />

    <div class="grid ui-fluid">

      <ui:fragment rendered="#{saveCarBean.editMode}">
        <div class="col-12 md:col-6">
          <div class="field">
            <span class="ui-float-label">
              <p:inputText value="#{saveCarBean.car.idCar}" disabled="true" />
              <p:outputLabel for="@previous" value="Id Car" />
            </span>
          </div>
        </div>
      </ui:fragment>

      <h:panelGroup id="brandGroup" class="col-12 md:col-6">
        <span class="ui-float-label">
          <p:selectOneMenu id="brands" value="#{saveCarBean.car.idBrand}" autoWidth="false">
            <f:selectItem itemLabel="" />
            <f:selectItems value="#{saveCarBean.carBrands}" var="b" itemLabel="#{b.nameBrand}"
              itemValue="#{b.idBrand}" />
            <p:ajax event="change" process="@this" update="brandGroup modelGroup"
              listener="#{saveCarBean.changeBrand}" />
          </p:selectOneMenu>
          <p:outputLabel for="@previous" value="Brand" />
        </span>
        <p:message id="brandsMsg" for="brands" display="text" />
      </h:panelGroup>

      <h:panelGroup id="modelGroup" class="col-12 md:col-6">
        <span class="ui-float-label">
          <p:selectOneMenu id="model" value="#{saveCarBean.car.modelCode}" autoWidth="false">
            <f:selectItem itemLabel="" />
            <f:selectItems value="#{saveCarBean.carModels}" var="m" itemLabel="#{m.modelName}"
              itemValue="#{m.modelCode}" />
          </p:selectOneMenu>
          <p:outputLabel for="@previous" value="Model" />
        </span>
        <p:message id="modelMsg" for="model" display="text" />
      </h:panelGroup>

      <div class="col-12 md:col-6">
        <div class="field">
          <span class="ui-float-label">
            <p:selectOneMenu id="colors" value="#{saveCarBean.car.color}" autoWidth="false">
              <f:selectItem itemLabel="" itemValue="" />
              <f:selectItem itemLabel="Red" itemValue="red" />
              <f:selectItem itemLabel="Blue" itemValue="blue" />
              <f:selectItem itemLabel="Yellow" itemValue="yellow" />
              <f:selectItem itemLabel="Green" itemValue="green" />
              <f:selectItem itemLabel="White" itemValue="white" />
              <f:selectItem itemLabel="Black" itemValue="black" />
            </p:selectOneMenu>
            <p:outputLabel for="@previous" value="Color" />
          </span>
          <p:message id="colorsMsg" for="colors" display="text" />
        </div>
      </div>

      <div class="col-12 md:col-6">
        <div class="field">
          <span class="ui-float-label">
            <p:datePicker id="buyDate" value="#{saveCarBean.car.buyDate}" yearRange="1920:2023" pattern="dd/MM/yyyy"
              showIcon="true" monthNavigator="true" yearNavigator="true">
              <f:convertDateTime pattern="dd/MM/yyyy" type="localDate" />
            </p:datePicker>
            <p:outputLabel for="@previous" value="Buy Date" />
          </span>
          <p:message id="buyDateMsg" for="buyDate" display="text" />
        </div>
      </div>

      <div class="col-12 md:col-6">
        <div class="field">
          <p:selectBooleanCheckbox id="secondHandCar" value="#{saveCarBean.car.secondHandCar}"
            itemLabel="Is Second Hand" />
          <p:message id="secondHandCarMsg" for="secondHandCar" display="text" />
        </div>
      </div>

    </div>

    <div class="buttons-footer">
      <p:commandButton value="Cancel" action="#{saveCarBean.cancel()}" process="@this" styleClass="ui-button-flat mr-2"
        style="width: 6rem" />
      <p:commandButton value="Accept" action="#{saveCarBean.accept()}" process="carForm" update="carForm"
        style="width: 5rem" />
    </div>

  </h:form>


</h:body>

</html>